<!DOCTYPE html>
<html>
  <head>
    <title>Diverging Stacked Bar Chart</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta charset='utf-8' />
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
    body {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    #chart {
      max-width: 600px;
      max-height: 400px;
    }
    </style>
  </head>
  <body>
    <div id="chart"></div>
    <script src="barchart.js"></script>
    <script>
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // async function getData(category) {
    //   const data = await fetch(`/api/employees/${category}`)
    //   let response = data.json()
    //   return response
    // }
    var chart = divergingBarChart();

    var data = [];
    var dummydata = [50, 35, 15]
    for (var i = 0; i < 3; ++i) {
      data.push({ data: dummydata[i], label: "Test " + data.length });
    }

    function resize() {
      if (d3.select("#chart svg").empty()) {
        return;
      }
      var w = +d3.select("#chart").style("width").replace(/(px)/g, "");
      chart.width(w);
      chart.height(200);
      d3.select("#chart").call(chart);
    }

    document.addEventListener("DOMContentLoaded", function() {
      d3.select("#chart").datum(data).call(chart);
      d3.select(window).on('resize', resize);
    });
    </script>
</body>
</html>